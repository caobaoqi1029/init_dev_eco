import { recommendDailyType } from '../model/Music';
import { dailyRecommend, swiperList } from '../model/MusicConstants';
@Entry
@Component
export struct RecommendPage {
  private swiperController: SwiperController = new SwiperController()
  private swiperList = swiperList;

  /**
   * æœç´¢æ¡†
   */
  @Builder searchBuilder(){
   Row(){
      Image($r('app.media.ic_search')).width(25).fillColor(Color.Gray)
      Text('åªå› ä½ å¤ªç¾ ğŸ”¥').layoutWeight(1)
     Image($r('app.media.ic_code')).width(25).fillColor(Color.Gray)

   }.width('100%').height('42').padding({left:12,right:12})
   .backgroundColor('#ff4f4d4d').borderRadius(60)
  }

  /**
   * è½®æ’­å›¾
   */
  @Builder swiperBuilder(){
      Row(){
        Swiper(this.swiperController) {
            ForEach(this.swiperList, (item: string, index: number) => {
                Image(item)
            })
          }.width('100%').height('25%')
        .borderRadius(20)
        .autoPlay(true)
        .interval(1000)
        .indicatorStyle({
          selectedColor: Color.White
        })
      }
  }

  /**
   * æ ‡é¢˜ Builder
   * @param title æ ‡é¢˜
   * @param rightText æ ‡é¢˜æ–‡æœ¬
   */
  @Builder
  titleBuilder(title: string, rightText: string) {
    Row() {
      Text(title)
        .fontColor(Color.White)
      Text(rightText)
        .fontColor(Color.Gray)
    }
    .width('100%')
    .justifyContent(FlexAlign.SpaceBetween)
  }

  /**
   * æ¯æ—¥æ¨è Builder
   */
  @Builder
  recommendBuilder() {
    Scroll() {
      Row({ space: 10 }) {
        ForEach(dailyRecommend, (item: recommendDailyType) => {
          Column() {
            Text(item.type)
              .fontColor(Color.White)
              .fontWeight(800)
              .fontSize(16)
              .backgroundColor(item.top)
              .width('100%')
              .padding({ top: 10, bottom: 10 })

            Image(item.img)

            Text(item.title)
              .fontColor(Color.White)
              .backgroundColor(item.bottom)
              .fontSize(14)
              .padding({ top: 10, bottom: 10,left:5,right:5 })
          }
          .height(120)
          .width('40%')
        })
      }
      .margin({ top: -100 }) //ç”¨æ¥ä¿®å¤Scrollè‡ªåŠ¨å°†é‡Œé¢çš„å†…å®¹å¾€ä¸‹ç•™ç™½çš„é—®é¢˜
      .height(120)
    }
    .height(240)
    .scrollable(ScrollDirection.Horizontal) //è®¾ç½®æ°´å¹³æ»šåŠ¨
  }



  build() {
    Column({space:10}){
      // 1. æœç´¢åŒºåŸŸ
      this.searchBuilder()
      // 2. è½®æ’­å›¾
      this.swiperBuilder()
      // 3. æ¯æ—¥æ¨è
      this.titleBuilder('æ¯æ—¥æ¨è', 'æ›´å¤š...')
      this.recommendBuilder()
      // 4. æ¨èæ­Œå•

    }.width('100%').height('100%').padding(10).backgroundColor(Color.Black)
  }

}